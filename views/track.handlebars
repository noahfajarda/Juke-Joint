<link rel="stylesheet" href="/css/homepage.css" />
<link rel="stylesheet" href="/css/track.css" />
<section class="content-section" style="width:80%;">
    {{>sidebar}}

{{!-- big container --}}
    <div class="d-flex justify-content-between" style="width:100%;">
        <div style="width: 25%;">
            <div style="position:relative; top: 45%; left: 30%;">
                <div class="text-box">
                    <h1 class="heading-primary">
                        <span class="heading-primary-main">Track</span>
                        <span id="track-name" class="heading-primary-sub">{{trackName}}</span>
                        <span id="track-artist" class="heading-primary-sub">{{trackArtist}}</span>
                    </h1>
                </div>
            </div>
        </div>
        <iframe
            src="https://open.spotify.com/embed/track/{{trackId}}?utm_source=generator"
            width="60%"
            height="380"
            frameborder="0"
            allowfullscreen=""
            allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
            loading="lazy"
        ></iframe>
        <div class="d-flex flex-column justify-content-center">
            <div class="placement">
                <div id="addToLikes" class="heart"></div>
            </div>
            <div class="placement">
                <div id="addToPlaylist" class="rela-block add-to-playlist"></div>
            </div>
        </div>
    </div>


    {{! All properties that can be accessed: }}
    {{! trackName, trackArtist, trackId, trackArt, title, userId, lyrics }}
    {{! comments }}
    {{! FOR EACH-------- id, searchedItem, body, type, postId, userId, "user.firstname", "user.lastname", "user.username", "user.password" }}

    <!-- album -->
    {{!-- middle --}}
    <h1>Track:</h1>
    <h1 id="track-name">{{trackName}}</h1>
    <h1 id="track-artist">{{trackArtist}}</h1>

    {{!-- side --}}
    

    
    <div id="trackId" style="display: none">{{trackId}}</div>

    {{! Lyrics }}
    <div class="accordion accordion" id="accordionExample">
        <div class="accordion-item">
            <h2 class="accordion-header" id="flush-headingOne">
                <button
                    id="lyrics-button"
                    class="accordion-button collapsed"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#flush-collapseOne"
                    aria-expanded="false"
                    aria-controls="flush-collapseOne"
                >
                    Lyrics
                </button>
            </h2>
            <div
                id="flush-collapseOne"
                class="accordion-collapse collapse"
                aria-labelledby="flush-headingOne"
                data-bs-parent="#accordionFlushExample"
            >
                <div class="accordion-body" id="lyrics">
                    Loading...
                </div>
            </div>
        </div>
    </div>

    {{>comment-section}}
</section>

{{! test from genius lyrics api }}
{{#if trackArt}}
    <img src="{{trackArt}}" height="100px" width="100px" alt="test" />
    <div id="track-art" style="display: none">{{trackArt}}</div>
{{else}}
    No album art
{{/if}}



<script src="/js/back-to-home.js"></script>
<script src="/js//comment/add-track-comment-page.js"></script>
<script src="/js/track/render-lyrics.js"></script>
<script src="/js/track/add-to-playlist.js"></script>
<script src="/js/track/add-to-likes.js"></script>